(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{21:function(e,t,c){e.exports={myModal:"MyModal_myModal__mhOeW",myModalContent:"MyModal_myModalContent__1yzAs",active:"MyModal_active__eOJjJ"}},39:function(e,t,c){e.exports={myInput:"MyInput_myInput__3n8wz"}},40:function(e,t,c){e.exports={mySelect:"MySelect_mySelect__VOLbV"}},41:function(e,t,c){e.exports={myLoader:"MyLoader_myLoader__1Ka8v",spin:"MyLoader_spin__3Mfix"}},76:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(36),s=c.n(a),i=c(12),o=c(3),u=c(0);var l=function(){return Object(u.jsx)("p",{className:"empty",children:"This page is made by Nikita Kozorez for cw"})},d=c(7),j=c.n(d),b=c(13),p=c(4);var O=function(e){var t=e.product,c=e.setModal,n=e.setSelectedProduct,r=Object(o.g)();return Object(u.jsxs)("div",{className:"product-item",children:[Object(u.jsx)("img",{src:t.image,alt:t.title,onClick:function(){return r.push("/shop/".concat(t.id))}}),Object(u.jsx)("p",{children:t.title.slice(0,15)}),Object(u.jsx)("p",{className:"price",children:t.price.toFixed(2)+" $"}),Object(u.jsx)("button",{className:"hidden",onClick:function(){c(!0),n(t.id)},children:"+ add to cart"})]})};var h=function(e){var t=e.products,c=e.setModal,n=e.setSelectedProduct;return t.length?Object(u.jsx)("div",{className:"product-list",children:t.map((function(e){return Object(u.jsx)(O,{product:e,setModal:c,setSelectedProduct:n},e.id)}))}):Object(u.jsx)("p",{className:"empty",children:"There is no products with your search!"})},m=c(6),x=c(39),f=c.n(x),v=function(e){return Object(u.jsx)("input",Object(m.a)({className:f.a.myInput},e))},g=c(40),S=c.n(g),y=function(e){var t=e.options,c=e.defaultValue,n=e.value,r=e.onChange;return Object(u.jsxs)("select",{className:S.a.mySelect,value:n,onChange:function(e){return r(e.target.value)},children:[Object(u.jsx)("option",{disabled:!0,value:"",children:c}),t.map((function(e,t){return Object(u.jsx)("option",{value:e.value,children:e.name},t)}))]})};var N=function(e){var t=e.products,c=e.search,n=e.setSearch;return Object(u.jsxs)("div",{className:"searchbar",children:[Object(u.jsx)(y,{value:c.selectedSort,onChange:function(e){return n(Object(m.a)(Object(m.a)({},c),{},{selectedSort:e}))},defaultValue:"sort by",options:[{value:t.category,name:"category"},{value:t.price,name:"price"}]}),Object(u.jsx)(v,{value:c.selectedText,placeholder:"type to search",onChange:function(e){return n(Object(m.a)(Object(m.a)({},c),{},{selectedText:e.target.value}))}}),Object(u.jsxs)("p",{children:[" ",t.length," "]})]})},C=c(41),M=c.n(C),k=function(){return Object(u.jsx)("div",{className:M.a.myLoader})},w=c(46),z=function(e,t,c){var r=function(e,t){return Object(n.useMemo)((function(){return t?Object(w.a)(e).sort((function(e,c){return e[t]===c[t]?0:e[t]>c[t]?1:-1})):e}),[t,e])}(e,t);return Object(n.useMemo)((function(){return r.filter((function(e){return-1!==e.title.toLowerCase().indexOf(c.toLowerCase())}))}),[c,r])},_=function(e){var t=Object(n.useState)(!1),c=Object(p.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(""),i=Object(p.a)(s,2),o=i[0],u=i[1],l=function(){var t=Object(b.a)(j.a.mark((function t(){var c=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(!0),t.next=4,e.apply(void 0,c);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(t.t0.message);case 9:return t.prev=9,a(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return[l,r,o]},P=c(42),A=c(43),E=c(25),L=c.n(E),T=function(){function e(){Object(P.a)(this,e)}return Object(A.a)(e,null,[{key:"getAll",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("https://fakestoreapi.com/products");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("https://fakestoreapi.com/products/"+t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),F=c(21),I=c.n(F),V=function(e){var t=e.children,c=e.visible,n=e.setVisible,r=[I.a.myModal];return c&&r.push(I.a.active),Object(u.jsx)("div",{className:r.join(" "),onClick:function(){return n(!1)},children:Object(u.jsx)("div",{className:I.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},$=Object(n.createContext)(null),J=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),r=c[0],a=c[1];return Object(u.jsx)($.Provider,{value:{shoppingCart:r,setShoppingCart:a},children:e.children})};var B=function(e){var t=e.products,c=e.selectedProduct,r=e.setModal,a=e.size,s=e.setSize,i=Object(n.useContext)($),o=i.shoppingCart,l=i.setShoppingCart,d=t[c-1];return Object(u.jsx)("div",{children:null!==c?Object(u.jsxs)("div",{className:"modal-product",children:[Object(u.jsxs)("p",{children:[" ",d.title.slice(0,15)," "]}),Object(u.jsx)("img",{src:d.image,alt:d.title}),Object(u.jsx)(y,{value:a,onChange:function(e){return s(e)},options:[{value:"S",name:"S"},{value:"M",name:"M"}],defaultValue:"choose a size"}),Object(u.jsx)("button",{disabled:""===a,onClick:function(){!function(){var e=o.find((function(e){return e.id===d.id&&e.selectedSize===a}));l(e?o.map((function(t){return t.id===d.id&&t.selectedSize===a?Object(m.a)(Object(m.a)({},e),{},{amount:e.amount+1}):t})):o.concat([{id:d.id,title:d.title,price:d.price,image:d.image,selectedSize:a,amount:1}]))}(),s(""),r(!1)},children:"add to a shopping cart"}),Object(u.jsx)("button",{onClick:function(){return r(!1)},children:"continue buying"})]}):Object(u.jsx)("div",{children:"Please, choose some product"})})};var H=function(){var e=Object(o.h)(),t=Object(n.useState)({}),c=Object(p.a)(t,2),r=c[0],a=c[1],s=_(function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getById(t);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i=Object(p.a)(s,2),l=i[0],d=i[1];return Object(n.useEffect)((function(){l(e.id)}),[]),Object(u.jsx)("div",{children:d?Object(u.jsx)(k,{}):Object(u.jsxs)("div",{className:"product-id",children:[Object(u.jsxs)("div",{className:"hidden",children:[Object(u.jsx)("p",{className:"b",children:r.title}),Object(u.jsx)("p",{children:r.category})]}),Object(u.jsx)("img",{src:r.image,alt:r.title}),Object(u.jsxs)("div",{className:"product-info",children:[Object(u.jsx)("p",{className:"b hidden",children:r.title}),Object(u.jsx)("p",{className:"hidden",children:r.category}),Object(u.jsx)("p",{className:"b",children:r.price+"$"}),Object(u.jsx)("p",{children:r.description})]})]})})};var K=function(e){var t=e.product,c=e.removeProduct,n=e.addAmount,r=e.removeAmount,a=t.price*t.amount;return Object(u.jsxs)("div",{className:"check",children:[Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("img",{src:t.image,alt:t.title})}),Object(u.jsxs)("div",{className:"information",children:[Object(u.jsx)("p",{className:"b",children:t.title}),Object(u.jsx)("p",{children:"Size: "+t.selectedSize}),Object(u.jsxs)("div",{className:"amount",children:[Object(u.jsx)("button",{onClick:function(){return r(t.id,t.selectedSize)},children:"-"}),Object(u.jsx)("p",{children:t.amount}),Object(u.jsx)("button",{onClick:function(){return n(t.id,t.selectedSize)},children:"+"})]})]}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("p",{className:"b",children:a.toFixed(2)+" $"}),Object(u.jsx)("button",{onClick:function(){return c(t.id,t.selectedSize)},children:"X"})]})]})};var D=function(e){var t=e.shoppingCart,c=e.removeProduct,n=e.addAmount,r=e.removeAmount;return Object(u.jsx)(u.Fragment,{children:t.map((function(e){return Object(u.jsx)(K,{product:e,removeProduct:c,removeAmount:r,addAmount:n},e.title)}))})};var G=function(e){var t=e.shoppingCart,c=Object(n.useState)(0),r=Object(p.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(10),o=Object(p.a)(i,2),l=o[0],d=o[1],j=a+l;return Object(n.useEffect)((function(){s(t.reduce((function(e,t){return e+t.price*t.amount}),0))}),[t]),Object(n.useEffect)((function(){d(a>100?0:10)}),[a]),Object(u.jsxs)("div",{className:"pay",children:[Object(u.jsxs)("p",{children:["Price: ",a.toFixed(2)+" $"]}),Object(u.jsxs)("p",{children:["Shipping: ",l.toFixed(2)+" $"," "]}),Object(u.jsxs)("p",{className:"b",children:["Total: ",j.toFixed(2)+" $"]}),Object(u.jsx)("button",{children:"Go to checkout"})]})};var R=[{path:"/about",component:l,exact:!0},{path:"/shop",component:function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)({selectedSort:"",selectedText:""}),s=Object(p.a)(a,2),i=s[0],o=s[1],l=Object(n.useState)(""),d=Object(p.a)(l,2),O=d[0],m=d[1],x=Object(n.useState)(!1),f=Object(p.a)(x,2),v=f[0],g=f[1],S=Object(n.useState)(null),y=Object(p.a)(S,2),C=y[0],M=y[1],w=_(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getAll();case 2:t=e.sent,R(t.data.length),r(t.data.slice(0,8*J));case 5:case"end":return e.stop()}}),e)})))),P=Object(p.a)(w,3),A=P[0],E=P[1],L=P[2],F=z(c,i.selectedSort,i.selectedText),I=Object(n.useState)(1),$=Object(p.a)(I,2),J=$[0],H=$[1],K=Object(n.useState)(0),D=Object(p.a)(K,2),G=D[0],R=D[1];Object(n.useEffect)((function(){A()}),[J]),Object(n.useEffect)((function(){return document.addEventListener("scroll",U),function(){document.removeEventListener("scroll",U)}}),[E]);var U=function(e){e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<20&&c.length<G&&H(J+1)};return Object(u.jsxs)("div",{className:"shop",children:[Object(u.jsx)(N,{products:c,search:i,setSearch:o}),Object(u.jsx)(V,{visible:v,setVisible:g,children:Object(u.jsx)(B,{products:c,selectedProduct:C,setModal:g,size:O,setSize:m})}),L?Object(u.jsxs)("h1",{className:"empty",children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 $",L]}):Object(u.jsx)(h,{products:F,setModal:g,setSelectedProduct:M}),E&&Object(u.jsx)(k,{})]})},exact:!0},{path:"/shop/:id",component:H,exact:!0},{path:"/cart",component:function(){var e=Object(n.useContext)($),t=e.shoppingCart,c=e.setShoppingCart;Object(n.useEffect)((function(){t.map((function(e){return 0===e.amount&&r(e.id,e.selectedSize),e}))}),[t]);var r=function(e,n){var r=t.filter((function(t){return e!==t.id||t.selectedSize!==n}));c(r)};return Object(u.jsx)(u.Fragment,{children:t.length?Object(u.jsxs)("div",{className:"cart",children:[Object(u.jsx)("div",{className:"row1",children:Object(u.jsx)(D,{shoppingCart:t,removeProduct:r,removeAmount:function(e,n){var r=t.map((function(t){var c=t.amount;return e===t.id&&t.selectedSize===n?Object(m.a)(Object(m.a)({},t),{},{amount:c-1}):t}));c(r)},addAmount:function(e,n){var r=t.map((function(t){var c=t.amount;return e===t.id&&t.selectedSize===n?Object(m.a)(Object(m.a)({},t),{},{amount:c+1}):t}));c(r)}})}),Object(u.jsx)("div",{className:"row2",children:Object(u.jsx)(G,{shoppingCart:t})})]}):Object(u.jsx)("p",{className:"empty",children:"Your cart is empty!"})})},exact:!0}];var U=function(){return Object(u.jsxs)(o.d,{children:[R.map((function(e){return Object(u.jsx)(o.b,{path:e.path,component:e.component,exact:e.exact},e.path)})),Object(u.jsx)(o.a,{to:"Shop"})]})},W=c(44),X=c(45);var Y=function(){return Object(u.jsxs)("div",{className:"navbar",children:[Object(u.jsx)("p",{children:"PRODUCTSHOP"}),Object(u.jsxs)("div",{className:"navlinks",children:[Object(u.jsx)(i.b,{to:"/Shop",children:"Shop"}),Object(u.jsx)(i.b,{to:"/About",children:"About"})]}),Object(u.jsx)(i.b,{to:"/Cart",children:Object(u.jsx)(W.a,{icon:X.a})})]})};c(76);var q=function(){return Object(u.jsx)(J,{children:Object(u.jsxs)(i.a,{basename:"/shop",children:[Object(u.jsx)(Y,{}),Object(u.jsx)(U,{})]})})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.3e968772.chunk.js.map