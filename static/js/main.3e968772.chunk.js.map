{"version":3,"sources":["components/UI/Modal/MyModal.module.css","components/UI/input/MyInput.module.css","components/UI/select/MySelect.module.css","components/UI/Loader/MyLoader.module.css","pages/About.js","components/ProductItem.js","components/ProductList.js","components/UI/input/MyInput.js","components/UI/select/MySelect.js","components/SearchBar.js","components/UI/Loader/MyLoader.js","hooks/useProducts.js","hooks/useFetching.js","API/ProductsService.js","components/UI/Modal/MyModal.js","context/ShopContext.js","components/ModalProduct.js","pages/ProductItemId.js","components/CartListItem.js","components/CartList.js","components/CartPayment.js","pages/Cart.js","router/router.js","pages/Shop.js","components/ShopRouter.js","components/UI/Navbar/Navbar.js","App.js","index.js"],"names":["module","exports","About","className","ProductItem","product","setModal","setSelectedProduct","router","useHistory","src","image","alt","title","onClick","push","id","slice","price","toFixed","ProductsList","products","length","map","MyInput","props","classes","myInput","MySelect","options","defaultValue","value","onChange","mySelect","e","target","disabled","option","index","name","SearchBar","search","setSearch","selectedSort","sort","category","selectedText","placeholder","MyLoader","myLoader","useProducts","text","sortedProducts","useMemo","a","b","useSortedProducts","filter","toLowerCase","indexOf","useFetching","callback","useState","isLoading","setIsLoading","error","setError","fetching","message","ProductsService","axios","get","response","data","MyModal","children","visible","setVisible","rootClasses","myModal","active","join","myModalContent","stopPropagation","ShopContext","createContext","ShopProvider","shoppingCart","setShoppingCart","Provider","ModalProduct","selectedProduct","size","setSize","useContext","exist","find","p","selectedSize","amount","concat","addProduct","ProductItemId","params","useParams","setProduct","getById","fetchProductsById","useEffect","description","CartListItem","removeProduct","addAmount","removeAmount","total","CartList","CartPayment","setTotal","shipping","setShipping","sum","reduce","v","Cart","shopRoutes","path","component","exact","setProducts","modal","getAll","setTotalCount","page","fetchProducts","isProductsLoading","productError","sortedAndSearchedProducts","setPage","totalCount","document","addEventListener","scrollHandler","removeEventListener","documentElement","scrollHeight","scrollTop","window","innerHeight","ProductList","remainingProducts","newProduct","ShopRouter","route","to","Navbar","icon","faShoppingCart","App","basename","process","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3e968772.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__mhOeW\",\"myModalContent\":\"MyModal_myModalContent__1yzAs\",\"active\":\"MyModal_active__eOJjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__3n8wz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mySelect\":\"MySelect_mySelect__VOLbV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myLoader\":\"MyLoader_myLoader__1Ka8v\",\"spin\":\"MyLoader_spin__3Mfix\"};","import React from \"react\";\r\n\r\nfunction About() {\r\n  return (\r\n    <p className=\"empty\">\r\n      This page is made by Nikita Kozorez for cw \r\n    </p>\r\n  );\r\n}\r\n\r\nexport default About;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction ProductItem({ product, setModal, setSelectedProduct }) {\r\n  const router = useHistory();\r\n\r\n  return (\r\n    <div className=\"product-item\">\r\n      <img\r\n        src={product.image}\r\n        alt={product.title}\r\n        onClick={() => router.push(`/shop/${product.id}`)}\r\n      />\r\n\r\n      <p>{product.title.slice(0, 15)}</p>\r\n      <p className=\"price\">{product.price.toFixed(2) + \" $\"}</p>\r\n      <button\r\n        className=\"hidden\"\r\n        onClick={() => {\r\n          setModal(true);\r\n          setSelectedProduct(product.id);\r\n        }}\r\n      >\r\n        + add to cart\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductItem;\r\n","import React from \"react\";\r\nimport ProductItem from \"./ProductItem\";\r\n\r\nfunction ProductsList({ products, setModal, setSelectedProduct }) {\r\n  if (!products.length) {\r\n    return <p className=\"empty\">There is no products with your search!</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-list\">\r\n      {products.map((product) => (\r\n        <ProductItem\r\n          product={product}\r\n          key={product.id}\r\n          setModal={setModal}\r\n          setSelectedProduct={setSelectedProduct}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductsList;\r\n","import React from \"react\";\r\nimport classes from \"./MyInput.module.css\";\r\n\r\nconst MyInput = (props) => {\r\n  return <input className={classes.myInput} {...props} />;\r\n};\r\n\r\nexport default MyInput;\r\n","import React from \"react\";\r\nimport classes from \"./MySelect.module.css\";\r\n\r\nconst MySelect = ({ options, defaultValue, value, onChange }) => {\r\n  return (\r\n    <select\r\n      className={classes.mySelect}\r\n      value={value}\r\n      onChange={(e) => onChange(e.target.value)}\r\n    >\r\n      <option disabled value=\"\">\r\n        {defaultValue}\r\n      </option>\r\n      {options.map((option, index) => (\r\n        <option key={index} value={option.value}>\r\n          {option.name}\r\n        </option>\r\n      ))}\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default MySelect;\r\n","import React from \"react\";\r\n\r\nimport MyInput from \"./UI/input/MyInput\";\r\nimport MySelect from \"./UI/select/MySelect\";\r\n\r\nfunction SearchBar({ products, search, setSearch }) {\r\n  return (\r\n    <div className=\"searchbar\">\r\n      <MySelect\r\n        value={search.selectedSort}\r\n        onChange={(sort) => setSearch({ ...search, selectedSort: sort })}\r\n        defaultValue=\"sort by\"\r\n        options={[\r\n          { value: products.category, name: \"category\" },\r\n          { value: products.price, name: \"price\" },\r\n        ]}\r\n      />\r\n      <MyInput\r\n        value={search.selectedText}\r\n        placeholder=\"type to search\"\r\n        onChange={(e) => setSearch({ ...search, selectedText: e.target.value })}\r\n      />\r\n      <p> {products.length} </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport classes from \"./MyLoader.module.css\";\r\n\r\nconst MyLoader = () => {\r\n  return <div className={classes.myLoader}></div>;\r\n};\r\n\r\nexport default MyLoader;\r\n","import { useMemo } from \"react\";\r\n\r\nexport const useSortedProducts = (products, sort) => {\r\n  const sortedProducts = useMemo(() => {\r\n    if (sort) {\r\n      return [...products].sort((a, b) =>\r\n        a[sort] === b[sort] ? 0 : a[sort] > b[sort] ? 1 : -1\r\n      );\r\n    }\r\n    return products;\r\n  }, [sort, products]);\r\n  return sortedProducts;\r\n};\r\n\r\nexport const useProducts = (products, sort, text) => {\r\n  const sortedProducts = useSortedProducts(products, sort);\r\n  const sortedandSearchedProducts = useMemo(() => {\r\n    return sortedProducts.filter(\r\n      (product) =>\r\n        product.title.toLowerCase().indexOf(text.toLowerCase()) !== -1\r\n    );\r\n  }, [text, sortedProducts]);\r\n  return sortedandSearchedProducts;\r\n};\r\n","import { useState } from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const fetching = async (...args) => {\r\n    try {\r\n      setIsLoading(true);\r\n    await callback(...args);\r\n    } catch(e) {\r\n      setError(e.message)\r\n    }\r\n    finally {\r\n      setIsLoading(false);\r\n    }\r\n    \r\n    \r\n  };\r\n  return [fetching, isLoading, error];\r\n};\r\n\r\n\r\n/*\r\nimport { useState } from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const fetching = async (...args) => {\r\n    setIsLoading(true);\r\n    await callback(...args);\r\n    setIsLoading(false);\r\n  };\r\n  return [fetching, isLoading];\r\n};\r\n\r\n\r\n\r\n\r\nimport { useState } from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const fetching = async (...args) => {\r\n    try {\r\n      setIsLoading(true);\r\n    await callback(...args);\r\n    } catch(e) {\r\n      setError(e.message)\r\n    }\r\n    finally {\r\n      setIsLoading(false);\r\n    }\r\n    \r\n    \r\n  };\r\n  return [fetching, isLoading, error];\r\n};\r\n*/","import axios from \"axios\";\r\n\r\nexport default class ProductsService {\r\n  static async getAll() {\r\n    const response = await axios.get(\"https://fakestoreapi.com/products\");\r\n    return response;\r\n  }\r\n\r\n  static async getById(id) {\r\n    const response = await axios.get(\"https://fakestoreapi.com/products/\" + id);\r\n    return response.data;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport classes from \"./MyModal.module.css\";\r\n\r\nconst MyModal = ({ children, visible, setVisible }) => {\r\n  const rootClasses = [classes.myModal];\r\n\r\n  if (visible) {\r\n    rootClasses.push(classes.active);\r\n  }\r\n\r\n  return (\r\n    <div className={rootClasses.join(\" \")} onClick={() => setVisible(false)}>\r\n      <div\r\n        className={classes.myModalContent}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyModal;\r\n","import { useState, createContext } from \"react\";\r\n\r\nexport const ShopContext = createContext(null);\r\n\r\nconst ShopProvider = (props) => {\r\n  const [shoppingCart, setShoppingCart] = useState([]);\r\n  return (\r\n    <ShopContext.Provider value={{ shoppingCart, setShoppingCart }}>\r\n      {props.children}\r\n    </ShopContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ShopProvider;\r\n","import { useContext } from \"react\";\r\nimport { ShopContext } from \"../context/ShopContext\";\r\nimport MySelect from \"./UI/select/MySelect\";\r\n\r\nfunction ModalProduct({ products, selectedProduct, setModal, size, setSize }) {\r\n  const { shoppingCart, setShoppingCart } = useContext(ShopContext);\r\n  const product = products[selectedProduct - 1];\r\n\r\n  const addProduct = () => {\r\n    const exist = shoppingCart.find(\r\n      (p) => p.id === product.id && p.selectedSize === size\r\n    );\r\n    if (exist) {\r\n      setShoppingCart(\r\n        shoppingCart.map((p) =>\r\n          p.id === product.id && p.selectedSize === size\r\n            ? { ...exist, amount: exist.amount + 1 }\r\n            : p\r\n        )\r\n      );\r\n    } else {\r\n      setShoppingCart(\r\n        shoppingCart.concat([\r\n          {\r\n            id: product.id,\r\n            title: product.title,\r\n            price: product.price,\r\n            image: product.image,\r\n            selectedSize: size,\r\n            amount: 1,\r\n          },\r\n        ])\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {selectedProduct !== null ? (\r\n        <div className=\"modal-product\">\r\n          <p> {product.title.slice(0, 15)} </p>\r\n          <img src={product.image} alt={product.title} />\r\n\r\n          <MySelect\r\n            value={size}\r\n            onChange={(e) => setSize(e)}\r\n            options={[\r\n              { value: \"S\", name: \"S\" },\r\n              { value: \"M\", name: \"M\" },\r\n            ]}\r\n            defaultValue=\"choose a size\"\r\n          />\r\n          <button\r\n            disabled={size === \"\"}\r\n            onClick={() => {\r\n              addProduct();\r\n              setSize(\"\");\r\n              setModal(false);\r\n            }}\r\n          >\r\n            add to a shopping cart\r\n          </button>\r\n          <button onClick={() => setModal(false)}>continue buying</button>\r\n        </div>\r\n      ) : (\r\n        <div>Please, choose some product</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalProduct;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport MyLoader from \"../components/UI/Loader/MyLoader\";\r\nimport ProductsService from \"../API/ProductsService\";\r\n\r\nfunction ProductItemId() {\r\n  const params = useParams();\r\n  const [product, setProduct] = useState({});\r\n  const [fetchProductsById, isLoading] = useFetching(async (id) => {\r\n    const response = await ProductsService.getById(id);\r\n    setProduct(response);\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchProductsById(params.id);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        <MyLoader />\r\n      ) : (\r\n        <div className=\"product-id\">\r\n          <div className=\"hidden\">\r\n            <p className=\"b\">{product.title}</p>\r\n            <p>{product.category}</p>\r\n          </div>\r\n\r\n          <img src={product.image} alt={product.title} />\r\n\r\n          <div className=\"product-info\">\r\n            <p className=\"b hidden\">{product.title}</p>\r\n            <p className=\"hidden\">{product.category}</p>\r\n            <p className=\"b\">{product.price + \"$\"}</p>\r\n            <p>{product.description}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductItemId;\r\n","import React from \"react\";\r\n\r\nfunction CartListItem({ product, removeProduct, addAmount, removeAmount }) {\r\n  const total = product.price * product.amount;\r\n  return (\r\n    <div className=\"check\">\r\n      <div className=\"image\">\r\n        <img src={product.image} alt={product.title} />\r\n      </div>\r\n      <div className=\"information\">\r\n        <p className=\"b\">{product.title}</p>\r\n        <p>{\"Size: \" + product.selectedSize}</p>\r\n        <div className=\"amount\">\r\n          <button\r\n            onClick={() => removeAmount(product.id, product.selectedSize)}\r\n          >\r\n            -\r\n          </button>\r\n          <p>{product.amount}</p>\r\n          <button onClick={() => addAmount(product.id, product.selectedSize)}>\r\n            +\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"price\">\r\n        <p className=\"b\">{total.toFixed(2) + \" $\"}</p>\r\n        <button onClick={() => removeProduct(product.id, product.selectedSize)}>\r\n          X\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartListItem;\r\n","import React from \"react\";\r\nimport CartListItem from \"./CartListItem\";\r\n\r\nfunction CartList({ shoppingCart, removeProduct, addAmount, removeAmount }) {\r\n  return (\r\n    <>\r\n      {shoppingCart.map((product) => (\r\n        <CartListItem\r\n          key ={product.title}\r\n          product={product}\r\n          removeProduct={removeProduct}\r\n          removeAmount={removeAmount}\r\n          addAmount={addAmount}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CartList;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nfunction CartPayment({ shoppingCart }) {\r\n  const [total, setTotal] = useState(0);\r\n  const [shipping, setShipping] = useState(10);\r\n  const sum = total + shipping;\r\n\r\n  useEffect(() => {\r\n    setTotal(shoppingCart.reduce((a, v) => (a = a + v.price * v.amount), 0));\r\n  }, [shoppingCart]);\r\n\r\n  useEffect(() => {\r\n    if (total > 100) {\r\n      setShipping(0);\r\n    } else {\r\n      setShipping(10);\r\n    }\r\n  }, [total]);\r\n\r\n  return (\r\n    <div className=\"pay\">\r\n      <p>Price: {total.toFixed(2) + \" $\"}</p>\r\n      <p>Shipping: {shipping.toFixed(2) + \" $\"} </p>\r\n      <p className=\"b\">\r\n        Total: {sum.toFixed(2) + \" $\"}\r\n      </p>\r\n      <button>Go to checkout</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartPayment;\r\n","import { useContext, useEffect } from \"react\";\r\nimport { ShopContext } from \"../context/ShopContext\";\r\nimport CartList from \"../components/CartList\";\r\nimport CartPayment from \"../components/CartPayment\";\r\n\r\nfunction Cart() {\r\n  const { shoppingCart, setShoppingCart } = useContext(ShopContext);\r\n\r\n  useEffect(() => {\r\n    shoppingCart.map((product) => {\r\n      if (product.amount === 0) {\r\n        removeProduct(product.id, product.selectedSize);\r\n      }\r\n      return product;\r\n    });\r\n  }, [shoppingCart]);\r\n\r\n  const removeProduct = (id, size) => {\r\n    let remainingProducts = shoppingCart.filter(\r\n      (product) => id !== product.id || product.selectedSize !== size\r\n    );\r\n    setShoppingCart(remainingProducts);\r\n  };\r\n\r\n  const addAmount = (id, size) => {\r\n    const newProduct = shoppingCart.map((product) => {\r\n      let amount = product.amount;\r\n      if (id === product.id && product.selectedSize === size) {\r\n        return { ...product, amount: amount + 1 };\r\n      }\r\n      return product;\r\n    });\r\n    setShoppingCart(newProduct);\r\n  };\r\n\r\n  const removeAmount = (id, size) => {\r\n    const newProduct = shoppingCart.map((product) => {\r\n      let amount = product.amount;\r\n      if (id === product.id && product.selectedSize === size) {\r\n        return { ...product, amount: amount - 1 };\r\n      }\r\n      return product;\r\n    });\r\n    setShoppingCart(newProduct);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {shoppingCart.length ? (\r\n        <div className=\"cart\">\r\n          <div className=\"row1\">\r\n            <CartList\r\n              shoppingCart={shoppingCart}\r\n              removeProduct={removeProduct}\r\n              removeAmount={removeAmount}\r\n              addAmount={addAmount}\r\n            />\r\n          </div>\r\n          <div className=\"row2\">\r\n            <CartPayment shoppingCart={shoppingCart} />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <p className=\"empty\">Your cart is empty!</p>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import About from \"../pages/About\";\r\nimport Shop from \"../pages/Shop\";\r\nimport ProductItemId from \"../pages/ProductItemId\";\r\nimport Cart from \"../pages/Cart\";\r\n\r\nexport const shopRoutes = [\r\n  { path: \"/about\", component: About, exact: true },\r\n  { path: \"/shop\", component: Shop, exact: true },\r\n  { path: \"/shop/:id\", component: ProductItemId, exact: true },\r\n  { path: \"/cart\", component: Cart, exact: true },\r\n];\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ProductList from \"../components/ProductList\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport MyLoader from \"../components/UI/Loader/MyLoader\";\r\nimport { useProducts } from \"../hooks/useProducts\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport ProductsService from \"../API/ProductsService\";\r\nimport MyModal from \"../components/UI/Modal/MyModal\";\r\nimport ModalProduct from \"../components/ModalProduct\";\r\n\r\nfunction Shop() {\r\n  const [products, setProducts] = useState([]);\r\n  const [search, setSearch] = useState({ selectedSort: \"\", selectedText: \"\" });\r\n  const [size, setSize] = useState(\"\");\r\n  const [modal, setModal] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [fetchProducts, isProductsLoading, productError] = useFetching(async () => {\r\n    const products = await ProductsService.getAll();\r\n    setTotalCount(products.data.length);\r\n    setProducts(products.data.slice(0, 8 * page));\r\n    \r\n  });\r\n  const sortedAndSearchedProducts = useProducts(\r\n    products,\r\n    search.selectedSort,\r\n    search.selectedText\r\n  );\r\n  const [page, setPage] = useState(1);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, [page ]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"scroll\", scrollHandler);\r\n    return function () {\r\n      document.removeEventListener(\"scroll\", scrollHandler);\r\n    };\r\n  }, [isProductsLoading]);\r\n\r\n  const scrollHandler = (e) => {\r\n    if (\r\n      e.target.documentElement.scrollHeight -\r\n        (e.target.documentElement.scrollTop + window.innerHeight) <\r\n        20 &&\r\n      products.length < totalCount\r\n    ) {\r\n      setPage(page + 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"shop\">\r\n      <SearchBar products={products} search={search} setSearch={setSearch} />\r\n      <MyModal visible={modal} setVisible={setModal}>\r\n        <ModalProduct\r\n          products={products}\r\n          selectedProduct={selectedProduct}\r\n          setModal={setModal}\r\n          size={size}\r\n          setSize={setSize}\r\n        />\r\n      </MyModal>\r\n      {productError ?\r\n            <h1 className=\"empty\">Произошла ошибка ${productError}</h1> :\r\n            \r\n      <ProductList\r\n        products={sortedAndSearchedProducts}\r\n        setModal={setModal}\r\n        setSelectedProduct={setSelectedProduct}\r\n      />}\r\n      {isProductsLoading && <MyLoader />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n/*\r\n\r\n/// try to fetch by 8\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/// weird working dynamic pagination (infinite scroll)\r\n\r\n\r\nimport React, { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport ProductList from \"../components/ProductList\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport MyLoader from \"../components/UI/Loader/MyLoader\";\r\nimport { useProducts } from \"../hooks/useProducts\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport ProductsService from \"../API/ProductsService\";\r\nimport MyModal from \"../components/UI/Modal/MyModal\";\r\nimport ModalProduct from \"../components/ModalProduct\";\r\n\r\nfunction Shop() {\r\n\r\n\r\n  \r\n  const [products, setProducts] = useState([]);\r\n  const [search, setSearch] = useState({ selectedSort: \"\", selectedText: \"\" });\r\n  const [size, setSize] = useState(\"\");\r\n  const [modal, setModal] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [fetchProducts, isProductsLoading] = useFetching(async () => {\r\n    const response = await ProductsService.getAll();\r\n    \r\n    setProducts(response.data.slice(0, 8 * page));\r\n  });\r\n  const sortedAndSearchedProducts = useProducts(\r\n    products,\r\n    search.selectedSort,\r\n    search.selectedText\r\n  );\r\n  const [page, setPage] = useState(1);\r\n  \r\n  const lastElement = useRef();\r\n  const observer = useRef();\r\n\r\n\r\n  \r\n\r\n\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, [page]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (isProductsLoading) return;\r\n    if (observer.current) observer.current.disconnect();\r\n  var callback = function(entries, observer) {\r\n   \r\n      if (entries[0].isIntersecting && page < 4 ) {\r\n       \r\n        setPage(page + 1)\r\n      \r\n        \r\n      \r\n      \r\n    }\r\n};\r\nobserver.current = new IntersectionObserver(callback);\r\nobserver.current.observe(lastElement.current)\r\n}, [isProductsLoading])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nreturn (\r\n  <div className=\"shop\">\r\n    <p>{page}</p>\r\n    <SearchBar products={products} search={search} setSearch={setSearch} />\r\n    <MyModal visible={modal} setVisible={setModal}>\r\n      <ModalProduct\r\n        products={products}\r\n        selectedProduct={selectedProduct}\r\n        setModal={setModal}\r\n        size={size}\r\n        setSize={setSize}\r\n      />\r\n    </MyModal>\r\n    <ProductList\r\n        products={sortedAndSearchedProducts}\r\n        setModal={setModal}\r\n        setSelectedProduct={setSelectedProduct}\r\n        \r\n      />\r\n      <div ref={lastElement} className=\"observer\">Hello there!</div>\r\n    {isProductsLoading && <MyLoader />\r\n    \r\n      \r\n      \r\n       \r\n      \r\n      \r\n    } \r\n  </div>\r\n);\r\n}\r\n\r\nexport default Shop;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/// pagination LIMIT AND PAGE\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport ProductList from \"../components/ProductList\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport MyLoader from \"../components/UI/Loader/MyLoader\";\r\nimport { useProducts } from \"../hooks/useProducts\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport ProductsService from \"../API/ProductsService\";\r\nimport MyModal from \"../components/UI/Modal/MyModal\";\r\nimport ModalProduct from \"../components/ModalProduct\";\r\n\r\n\r\n\r\nimport { getPageCount, getPagesArray } from \"../utils/page\";\r\n\r\nfunction Shop() {\r\n\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [limit, setLimit] = useState(10);\r\n  const [page, setPage] = useState(1);\r\n\r\n\r\n\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [search, setSearch] = useState({ selectedSort: \"\", selectedText: \"\" });\r\n  const [size, setSize] = useState(\"\");\r\n  const [modal, setModal] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n\r\n\r\n\r\n  let pagesArray = getPagesArray(totalPages);\r\n\r\n  \r\n\r\n  const [fetchProducts, isProductsLoading] = useFetching(async (limit, page) => {\r\n    const response = await ProductsService.getAll(limit, page);\r\n    setProducts(response.data);\r\n    console.log(response.headers[\"x-total-count\"])\r\n    setTotalCount(response.headers[\"x-total-count\"])\r\n    console.log(response.data.slice(0,10))\r\n    const totalCount = response.data.length;\r\n    setTotalPages(getPageCount(totalCount, limit))\r\n\r\n  });\r\n  const sortedAndSearchedProducts = useProducts(\r\n    products,\r\n    search.selectedSort,\r\n    search.selectedText\r\n  );\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    fetchProducts(limit, page);\r\n  }, []);\r\n\r\n\r\n\r\n const changePage = (page) =>  {\r\n   setPage(page);\r\n   fetchProducts(limit, page)\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"shop\">\r\n      <SearchBar products={products} search={search} setSearch={setSearch} />\r\n      <MyModal visible={modal} setVisible={setModal}>\r\n        <ModalProduct\r\n          products={products}\r\n          selectedProduct={selectedProduct}\r\n          setModal={setModal}\r\n          size={size}\r\n          setSize={setSize}\r\n        />\r\n      </MyModal>\r\n      {isProductsLoading ? (\r\n        <MyLoader />\r\n      ) : (\r\n        <>\r\n        <ProductList\r\n          products={sortedAndSearchedProducts}\r\n          setModal={setModal}\r\n          setSelectedProduct={setSelectedProduct}\r\n          \r\n        />\r\n        {pagesArray.map(p => <span onClick={() => changePage(p)} className={page === p ? \"Lyon\" : \"\"}>p</span>)}\r\n        </>\r\n        \r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n\r\n\r\n\r\n\r\n/// Pagination\r\nimport Pagination from \"../components/UI/Pagination/Pagination\";\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport ProductList from \"../components/ProductList\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport MyLoader from \"../components/UI/Loader/MyLoader\";\r\nimport { useProducts } from \"../hooks/useProducts\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport ProductsService from \"../API/ProductsService\";\r\nimport MyModal from \"../components/UI/Modal/MyModal\";\r\nimport ModalProduct from \"../components/ModalProduct\";\r\n\r\nfunction Shop() {\r\n  const [products, setProducts] = useState([]);\r\n  const [search, setSearch] = useState({ selectedSort: \"\", selectedText: \"\" });\r\n  const [size, setSize] = useState(\"\");\r\n  const [modal, setModal] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [fetchProducts, isProductsLoading] = useFetching(async () => {\r\n    const products = await ProductsService.getAll();\r\n    setProducts(products);\r\n    \r\n  });\r\n  const sortedAndSearchedProducts = useProducts(\r\n    products,\r\n    search.selectedSort,\r\n    search.selectedText\r\n  );\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [productPerPage, setProductPerPage] = useState(8);\r\n\r\n  const lastProductIndex = currentPage * productPerPage;\r\n  const firstProductIndex = lastProductIndex - productPerPage; \r\n  const currentProduct = sortedAndSearchedProducts.slice(firstProductIndex, lastProductIndex);\r\n\r\n  const paginate = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n}\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"shop\">\r\n      <SearchBar products={products} search={search} setSearch={setSearch} />\r\n      <MyModal visible={modal} setVisible={setModal}>\r\n        <ModalProduct\r\n          products={products}\r\n          selectedProduct={selectedProduct}\r\n          setModal={setModal}\r\n          size={size}\r\n          setSize={setSize}\r\n        />\r\n      </MyModal>\r\n      {isProductsLoading ? (\r\n        <MyLoader />\r\n      ) : (\r\n        <>\r\n        <ProductList\r\n          products={currentProduct}\r\n          setModal={setModal}\r\n          setSelectedProduct={setSelectedProduct}\r\n          \r\n        />\r\n        {products.length ? <div><div className=\"fofo\">Hello there!</div><Pagination currentPage={currentPage} productPerPage={productPerPage}  totalProducts={products.length} paginate={paginate}/></div> : null }\r\n        </>\r\n        \r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n\r\n\r\n\r\n\r\n\r\n\r\n/// SHOP WITHOUT ANY PAGINATION OR SCROLL\r\n\r\n  import React, { useEffect, useState, useMemo } from \"react\";\r\nimport ProductList from \"../components/ProductList\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport MyLoader from \"../components/UI/Loader/MyLoader\";\r\nimport { useProducts } from \"../hooks/useProducts\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport ProductsService from \"../API/ProductsService\";\r\nimport MyModal from \"../components/UI/Modal/MyModal\";\r\nimport ModalProduct from \"../components/ModalProduct\";\r\n\r\nfunction Shop() {\r\n  const [products, setProducts] = useState([]);\r\n  const [search, setSearch] = useState({ selectedSort: \"\", selectedText: \"\" });\r\n  const [size, setSize] = useState(\"\");\r\n  const [modal, setModal] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [fetchProducts, isProductsLoading] = useFetching(async () => {\r\n    const products = await ProductsService.getAll();\r\n    setProducts(products);\r\n    \r\n  });\r\n  const sortedAndSearchedProducts = useProducts(\r\n    products,\r\n    search.selectedSort,\r\n    search.selectedText\r\n  );\r\n\r\n\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"shop\">\r\n      <SearchBar products={products} search={search} setSearch={setSearch} />\r\n      <MyModal visible={modal} setVisible={setModal}>\r\n        <ModalProduct\r\n          products={products}\r\n          selectedProduct={selectedProduct}\r\n          setModal={setModal}\r\n          size={size}\r\n          setSize={setSize}\r\n        />\r\n      </MyModal>\r\n      {isProductsLoading ? (\r\n        <MyLoader />\r\n      ) : (\r\n        \r\n        <ProductList\r\n          products={sortedAndSearchedProducts}\r\n          setModal={setModal}\r\n          setSelectedProduct={setSelectedProduct}\r\n          \r\n        />\r\n        \r\n        \r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Shop;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  */\r\n","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { shopRoutes } from \"../router/router\";\r\n\r\nfunction ShopRouter() {\r\n  return (\r\n    <Switch>\r\n      {shopRoutes.map((route) => (\r\n        <Route\r\n          path={route.path}\r\n          component={route.component}\r\n          exact={route.exact}\r\n          key={route.path}\r\n        />\r\n      ))}\r\n      <Redirect to=\"Shop\" />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default ShopRouter;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faShoppingCart } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <div className=\"navbar\">\r\n      <p>PRODUCTSHOP</p>\r\n      <div className=\"navlinks\">\r\n        <Link to=\"/Shop\">Shop</Link>\r\n        <Link to=\"/About\">About</Link>\r\n      </div>\r\n      <Link to=\"/Cart\">\r\n        <FontAwesomeIcon icon={faShoppingCart}></FontAwesomeIcon>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport ShopRouter from \"./components/ShopRouter\";\r\nimport Navbar from \"./components/UI/Navbar/Navbar\";\r\nimport ShopProvider from \"./context/ShopContext\";\r\n\r\nimport \"./styles/App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <ShopProvider>\r\n      <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <Navbar />\r\n        <ShopRouter />\r\n      </HashRouter>\r\n    </ShopProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}